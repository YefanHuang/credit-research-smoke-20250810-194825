# æœ€æ–°åŠŸèƒ½å®ç°æ€»ç»“

## ğŸ¯ æ¦‚è¿°

æ ¹æ®æ‚¨çš„åé¦ˆï¼Œæˆ‘æˆåŠŸå®ç°äº†ä¸‰ä¸ªé‡è¦çš„åŠŸèƒ½æ”¹è¿›ï¼Œå¤§å¹…æå‡äº†ç³»ç»Ÿçš„å¯ç”¨æ€§å’Œçµæ´»æ€§ã€‚

## âœ… å·²å®Œæˆçš„ä¸‰ä¸ªæ ¸å¿ƒåŠŸèƒ½

### 1. **ç»Ÿä¸€çš„è¿›åº¦ä¸æˆæœ¬ç®¡ç†æ¥å£** âœ…

**æ–‡ä»¶**: `oop/progress_manager.py`

#### åŠŸèƒ½ç‰¹ç‚¹ï¼š
- **ğŸ”„ å¤šç§è¿›åº¦ç®—æ³•**: æ”¯æŒæ–‡æœ¬é•¿åº¦ã€tokenæ•°é‡ã€é¡¹ç›®æ•°é‡å’Œæ··åˆç®—æ³•
- **ğŸ’° ç²¾ç¡®æˆæœ¬ä¼°ç®—**: é¢„è®­ç»ƒæˆæœ¬ä¼°ç®—ï¼Œè¿è¡Œåç»Ÿè®¡å®é™…æ¶ˆè€—
- **ğŸ“Š å®æ—¶è¿›åº¦æ¡**: æ”¯æŒä»»æ„APIä»»åŠ¡çš„è¿›åº¦æ˜¾ç¤º
- **ğŸ“ˆ æˆæœ¬å‡†ç¡®åº¦**: è‡ªåŠ¨è®¡ç®—é¢„ä¼°ä¸å®é™…æˆæœ¬çš„å‡†ç¡®åº¦
- **ğŸ“‹ è¯¦ç»†æ—¥å¿—**: è®°å½•æ‰€æœ‰APIè°ƒç”¨ï¼Œæ”¯æŒå¯¼å‡ºåˆ†æ

#### æ¼”ç¤ºç»“æœï¼š
```
ğŸ“Š ç¤ºä¾‹1: æ–‡æœ¬å‘é‡åŒ–ä»»åŠ¡
Tokenè¿›åº¦ (112/112): |â–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆ| 100.0%
âœ… ä»»åŠ¡æŠ¥å‘Š: æˆæœ¬å‡†ç¡®åº¦ 89.7%

ğŸ” ç¤ºä¾‹2: Perplexityæœç´¢ä»»åŠ¡  
é¡¹ç›®è¿›åº¦ (3/3): |â–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆ| 100.0%
âœ… ä»»åŠ¡æŠ¥å‘Š: æˆæœ¬å‡†ç¡®åº¦ 89.7%

ğŸ’° æ€»ä½“æˆæœ¬æ±‡æ€»
æ€»æˆæœ¬: $0.113 (Â¥0.8137)
qwen: $0.0000 (5 è°ƒç”¨, 100.0% æˆåŠŸç‡)
perplexity: $0.1130 (3 è°ƒç”¨, 100.0% æˆåŠŸç‡)
```

#### æ”¯æŒçš„ä»»åŠ¡ç±»å‹ï¼š
- æ–‡æœ¬å‘é‡åŒ– (Qwen/DeepSeek)
- æœç´¢ä»»åŠ¡ (Perplexity)
- æ–‡æœ¬å¤„ç† (æ™ºèƒ½åˆ‡åˆ†)
- é‚®ä»¶å‘é€
- é€šç”¨APIè°ƒç”¨

---

### 2. **Perplexity APIè¯­æ³•éªŒè¯å’Œä¿®æ­£** âœ…

**æ›´æ–°æ–‡ä»¶**: `.github/workflows/simple-research.yml`, `oop/search_manager.py`

#### åŸºäºå®˜æ–¹æ–‡æ¡£çš„ä¿®æ­£ï¼š
- âœ… **æ¨¡å‹åç§°**: ä» `llama-3.1-sonar-small-128k-online` æ”¹ä¸º `sonar-pro`
- âœ… **APIç«¯ç‚¹**: ç¡®è®¤ä½¿ç”¨ `https://api.perplexity.ai/chat/completions`
- âœ… **å‚æ•°æ ¼å¼**: éªŒè¯ `search_recency_filter` çš„æ­£ç¡®ç”¨æ³•
- âœ… **ç§»é™¤æ— æ•ˆå‚æ•°**: åˆ é™¤äº† `stream: False` ç­‰éå¿…è¦å‚æ•°

#### å®˜æ–¹æ”¯æŒçš„æ—¶é—´è¿‡æ»¤é€‰é¡¹ï¼š
```json
{
  "search_recency_filter": "day",    // æœ€è¿‘24å°æ—¶
  "search_recency_filter": "week",   // æœ€è¿‘7å¤©
  "search_recency_filter": "month",  // æœ€è¿‘30å¤©
  "search_recency_filter": "year"    // æœ€è¿‘365å¤©
}
```

#### éªŒè¯çš„APIå®šä»·ï¼š
- **sonar**: $1/1M input tokens, $1/1M output tokens
- **sonar-pro**: $3/1M input tokens, $15/1M output tokens
- **sonar-reasoning-pro**: $2/1M input tokens, $8/1M output tokens

---

### 3. **å¯è‡ªå®šä¹‰æœç´¢æç¤ºè¯ç³»ç»Ÿ** âœ…

**æ–‡ä»¶**: `.github/workflows/customizable-research.yml`

#### æ ¸å¿ƒç‰¹æ€§ï¼š
- **ğŸŒ å¸‚åœºç„¦ç‚¹é€‰æ‹©**: global, asia_pacific, north_america, europe, china
- **ğŸ“Š å†…å®¹æ·±åº¦æ§åˆ¶**: basic, comprehensive, expert
- **ğŸ¯ æœç´¢é‡ç‚¹é…ç½®**: æ”¿ç­–ç›‘ç®¡ã€æŠ€æœ¯åˆ›æ–°ã€å¸‚åœºè¶‹åŠ¿ã€é£é™©ç®¡ç†ã€å­¦æœ¯ç ”ç©¶ã€å¹³è¡¡è¦†ç›–
- **ğŸŒ è¯­è¨€åå¥½**: english, chinese, multilingual
- **ğŸ”§ è‡ªå®šä¹‰æ¨¡æ¿**: æ”¯æŒå®Œå…¨è‡ªå®šä¹‰çš„æç¤ºè¯æ¨¡æ¿

#### GitHub Actionsèœå•é…ç½®ï¼š
```yaml
inputs:
  market_focus:
    description: 'å¸‚åœºç„¦ç‚¹'
    type: choice
    options:
      - 'global'      # å…¨çƒå¸‚åœº
      - 'asia_pacific' # äºšå¤ªåœ°åŒº
      - 'north_america' # åŒ—ç¾
      - 'europe'      # æ¬§æ´²
      - 'china'       # ä¸­å›½å¸‚åœº
  
  content_depth:
    description: 'å†…å®¹æ·±åº¦'
    type: choice
    options:
      - 'basic'       # åŸºç¡€ä¿¡æ¯
      - 'comprehensive' # ç»¼åˆåˆ†æ
      - 'expert'      # ä¸“å®¶çº§æ·±åº¦
  
  custom_prompt_template:
    description: 'è‡ªå®šä¹‰æç¤ºè¯æ¨¡æ¿ï¼ˆç•™ç©ºä½¿ç”¨é»˜è®¤ï¼‰'
    type: string
```

#### æ™ºèƒ½æç¤ºè¯ç”Ÿæˆç¤ºä¾‹ï¼š

**å…¨çƒå¸‚åœº + ä¸“å®¶çº§æ·±åº¦**:
```
Search for the latest research and analysis on "credit risk management" with the following requirements:

ğŸ“Š Content Type:
- Level: expert-level research with technical details
- Focus: balanced coverage across all key areas
- Market Scope: global markets and international perspectives

ğŸ›ï¸ Authoritative Sources (prioritize):
IMF, World Bank, BIS, Federal Reserve, ECB, leading financial institutions

ğŸ” Keywords Enhancement:
Include content related to: credit rating, risk management, fintech, digital transformation, regulatory policy

ğŸ¯ Specific Requirements:
- Provide data-driven analysis and empirical research
- Include latest policy developments and trends
- Highlight technological innovations and practical applications
- Assess market impact and risk implications
- Focus on actionable insights and best practices
```

**ä¸­å›½å¸‚åœº + ä¸­æ–‡åå¥½**:
```
æœç´¢å…³äº"å¾ä¿¡é£é™©ç®¡ç†"çš„æœ€æ–°ç ”ç©¶å’Œåˆ†æï¼Œè¦æ±‚ï¼š

ğŸ“Š å†…å®¹ç±»å‹ï¼š
- comprehensive
- é‡ç‚¹å…³æ³¨ï¼šbalanced coverage across all key areas
- å¸‚åœºèŒƒå›´ï¼šChinese market and regulatory environment

ğŸ›ï¸ æƒå¨æ¥æºä¼˜å…ˆï¼š
PBOC, CBIRC, CSRC, major Chinese financial institutions

ğŸ” å…³é”®è¯å¢å¼ºï¼š
ä¿¡ç”¨è¯„çº§, é£é™©ç®¡ç†, é‡‘èç§‘æŠ€, æ•°å­—åŒ–è½¬å‹, ç›‘ç®¡æ”¿ç­–
```

---

## ğŸ”§ æŠ€æœ¯å®ç°äº®ç‚¹

### è¿›åº¦ç®—æ³•ä¼˜åŒ–
- **æ™ºèƒ½ç®—æ³•é€‰æ‹©**: æ ¹æ®å¯ç”¨æ•°æ®è‡ªåŠ¨é€‰æ‹©æœ€åˆé€‚çš„è¿›åº¦ç®—æ³•
- **å¤šç»´åº¦è·Ÿè¸ª**: åŒæ—¶è·Ÿè¸ªé¡¹ç›®æ•°é‡ã€tokenæ•°é‡ã€æ–‡æœ¬é•¿åº¦è¿›åº¦
- **ETAé¢„æµ‹**: åŸºäºå†å²å¤„ç†é€Ÿåº¦é¢„æµ‹å‰©ä½™æ—¶é—´

### æˆæœ¬ç®¡ç†ç²¾åº¦
- **å®æ—¶APIå®šä»·**: åŸºäºæœ€æ–°å®˜æ–¹å®šä»·è‡ªåŠ¨è®¡ç®—
- **å¤šå¸ç§æ”¯æŒ**: åŒæ—¶æ˜¾ç¤ºUSDå’ŒCNYæˆæœ¬
- **å‡†ç¡®åº¦è¯„ä¼°**: å¯¹æ¯”é¢„ä¼°ä¸å®é™…æˆæœ¬ï¼Œæä¾›å‡†ç¡®åº¦æŒ‡æ ‡

### æœç´¢æç¤ºè¯çµæ´»æ€§
- **æ¨¡æ¿åŒ–è®¾è®¡**: æ”¯æŒå˜é‡æ›¿æ¢çš„çµæ´»æ¨¡æ¿ç³»ç»Ÿ
- **å¤šå¸‚åœºé€‚é…**: é’ˆå¯¹ä¸åŒåœ°åŒºå¸‚åœºçš„ä¸“é—¨ä¼˜åŒ–
- **æ¸è¿›å¼é…ç½®**: ä»ç®€å•èœå•é€‰æ‹©åˆ°å®Œå…¨è‡ªå®šä¹‰çš„æ¸è¿›å¼é…ç½®

---

## ğŸ“Š ä½¿ç”¨åœºæ™¯å’Œæ•ˆæœ

### æ—¥å¸¸æœç´¢ä¸å‘é‡åŒ–å·¥ä½œæµ
```python
# åˆ›å»ºä»»åŠ¡å¹¶ä¼°ç®—æˆæœ¬
manager = ProgressCostManager()
progress = manager.create_task("daily_vectorization", TaskType.VECTORIZATION, 100, total_tokens=50000)
estimate = manager.estimate_cost("daily_vectorization", TaskType.VECTORIZATION, "qwen", "text-embedding-v2", 50000)

# å®æ—¶è¿›åº¦è·Ÿè¸ª
for i, text in enumerate(texts):
    # å¤„ç†æ–‡æœ¬...
    manager.update_progress("daily_vectorization", processed_items=i+1, processed_tokens=text_tokens)

# å®Œæˆä»»åŠ¡å¹¶è·å–æŠ¥å‘Š
report = manager.complete_task("daily_vectorization", success=True)
```

### GitHub Actionsè‡ªå®šä¹‰ç ”ç©¶
1. **è§¦å‘å·¥ä½œæµ**: åœ¨GitHub Actionsé¡µé¢é€‰æ‹© "Customizable Research Automation"
2. **é…ç½®å‚æ•°**: é€šè¿‡ä¸‹æ‹‰èœå•é€‰æ‹©å¸‚åœºç„¦ç‚¹ã€å†…å®¹æ·±åº¦ç­‰
3. **è‡ªå®šä¹‰æç¤º**: å¯é€‰æ‹©ä½¿ç”¨è‡ªå®šä¹‰æç¤ºè¯æ¨¡æ¿
4. **è‡ªåŠ¨æ‰§è¡Œ**: ç³»ç»Ÿè‡ªåŠ¨ç”Ÿæˆä¼˜åŒ–çš„æœç´¢æç¤ºå¹¶æ‰§è¡Œç ”ç©¶

### æˆæœ¬æ§åˆ¶ä¸ç›‘æ§
- **é¢„ç®—ä¿æŠ¤**: è®­ç»ƒå‰æ˜¾ç¤ºæˆæœ¬ä¼°ç®—ï¼Œé˜²æ­¢æ„å¤–è¶…æ”¯
- **å®æ—¶ç›‘æ§**: æ˜¾ç¤ºAPIè°ƒç”¨è¿›åº¦å’Œç´¯è®¡æˆæœ¬
- **å‡†ç¡®åº¦éªŒè¯**: éªŒè¯æˆæœ¬ä¼°ç®—æ¨¡å‹çš„å‡†ç¡®æ€§

---

## ğŸ‰ æ ¸å¿ƒä»·å€¼

1. **é€æ˜åº¦æå‡**: ç”¨æˆ·å¯æ¸…æ¥šçœ‹åˆ°ä»»åŠ¡è¿›åº¦å’ŒAPIæ¶ˆè€—æƒ…å†µ
2. **æˆæœ¬å¯æ§**: ç²¾ç¡®çš„æˆæœ¬ä¼°ç®—å’Œå®æ—¶ç›‘æ§é¿å…æ„å¤–è´¹ç”¨
3. **çµæ´»é…ç½®**: æ”¯æŒå…¨çƒä¸åŒå¸‚åœºçš„å®šåˆ¶åŒ–ç ”ç©¶éœ€æ±‚
4. **APIå…¼å®¹**: ç¡®ä¿ä¸Perplexityå®˜æ–¹APIå®Œå…¨å…¼å®¹
5. **ç”¨æˆ·å‹å¥½**: é€šè¿‡GitHub Actionsæä¾›ç›´è§‚çš„èœå•é…ç½®ç•Œé¢

è¿™ä¸‰ä¸ªåŠŸèƒ½çš„å®Œæˆï¼Œä½¿ç³»ç»Ÿå…·å¤‡äº†ç”Ÿäº§ç¯å¢ƒä½¿ç”¨çš„å®Œæ•´ç›‘æ§ã€æˆæœ¬æ§åˆ¶å’Œçµæ´»é…ç½®èƒ½åŠ›ï¼Œä¸ºå…¨çƒå¸‚åœºåˆ†æå’Œå¾ä¿¡ç ”ç©¶æä¾›äº†å¼ºå¤§çš„è‡ªåŠ¨åŒ–æ”¯æŒï¼