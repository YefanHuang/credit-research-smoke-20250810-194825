name: ğŸ”§ Test GitHub Actions Connection

on:
  workflow_dispatch:
    inputs:
      test_message:
        description: 'Test Message'
        required: false
        default: 'GitHub Actions Connection Test'
  
  push:
    branches: [ main ]
    paths:
      - '.github/workflows/test-connection.yml'

jobs:
  test_connection:
    runs-on: ubuntu-latest
    
    steps:
    - name: ğŸ“‹ Checkout code
      uses: actions/checkout@v3
    
    - name: ğŸ¯ Display repository information
      run: |
        echo "ğŸ  Repository: ${{ github.repository }}"
        echo "ğŸŒ¿ Branch: ${{ github.ref }}"
        echo "ğŸ‘¤ Triggered by: ${{ github.actor }}"
        echo "ğŸ“… Time: $(date)"
        echo "ğŸ’¬ Test Message: ${{ github.event.inputs.test_message || 'Automatically triggered test' }}"
    
    - name: ğŸ” Check workflow files
      run: |
        echo "ğŸ“ Checking .github/workflows directory:"
        ls -la .github/workflows/
        echo ""
        echo "ğŸ“Š Workflow file count:"
        ls .github/workflows/*.yml | wc -l
        echo ""
        echo "ğŸ“‹ All workflow files:"
        ls .github/workflows/*.yml | xargs -I {} basename {} .yml
    
    - name: âœ… Connection test successful
      run: |
        echo "ğŸ‰ GitHub Actions connection is normal!"
        echo "ğŸ“ If you can see this message, the workflow system is working correctly"
        echo "ğŸ”— Please check Actions page: https://github.com/${{ github.repository }}/actions"